<!DOCTYPE html>
<html lang="pt-br">

<head>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Formulário de convite</title>
  <link rel="stylesheet" href="styles/index.css">
  <link href="https://fonts.googleapis.com/css2?family=Leckerli+One&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@400..800&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&display=swap"
    rel="stylesheet">
</head>

<body>

  <div class="container">
    <aside class="aside-content">
      <header>
        <img src="assets/Logo.svg" alt="">
        <h1 class="logo">Festivite</h1>
        <p>Crie um convite digital para o seu evento</p>
      </header>
    </aside>
    <main class="main-content">
      <form class="form-grid">
        <h2>Crie seu convite</h2>
        <fieldset class="about-event">
          <div class="flex titulo-sessao-1">
            <img src="assets/icons/calendar.svg" alt="">
            <h3>Sobre o evento</h3>
          </div>
          <div class="title-wrapper">
            <label for="title">Título</label>
            <input type="text" name="title" id="title" placeholder="Nome do evento" required>
          </div>
          <div class="date">
            <div class="inicio-date">
              <label for="start">Início</label>
              <input type="date" name="start" id="start" required>
            </div>

            <div class="fim-date">
              <label for="end">Fim</label>
              <input type="date" name="end" id="end" required>
            </div>
          </div>

          <div class="flex">

            <div class="tipo-evento" style="width: 100%;">
              <div class="tipo-layout">
                <!-- Bloco do Tipo -->
                <div class="tipo-wrapper">
                  <label for="type">Tipo</label>
                  <div class="radio-group">
                    <input type="radio" name="type" id="presencial" value="Presencial" required hidden>
                    <label for="presencial" class="radio-button">
                      <div class="radio-icon" data-icon="building"></div>
                      Presencial
                    </label>

                    <input type="radio" name="type" id="online" value="Online" hidden>
                    <label for="online" class="radio-button">
                      <div class="radio-icon" data-icon="video"></div>
                      Online
                    </label>
                  </div>
                </div>

                <!-- Bloco do Local -->
                <div class="location-wrapper">
                  <label for="location">Local</label>
                  <input type="text" name="location" id="location" placeholder="Link ou endereço" required>
                </div>
              </div>
            </div>



          </div>
          <div class="desc-wrapper">
            <label for="desc">Descrição</label>
            <textarea name="desc" cols="30" rows="10" placeholder="Escreva sobre os detalhes do evento"
              required></textarea>
          </div>
        </fieldset>

        <fieldset class="personalization">
          <div class="flex">
            <img src="assets/icons/paintbrush-vertical.svg" alt="Imagem do pincel">
            <h3>Personalização</h3>
          </div>
          <div class="radio-select">
            <label for="color">Cor principal</label>
            <div class="flex">
              <label><input type="radio" name="color" class="light"></label>
              <label><input type="radio" name="color" class="navy"></label>
              <label><input type="radio" name="color" class="purple"></label>
              <label><input type="radio" name="color" class="fuschia"></label>
              <label><input type="radio" name="color" class="pink" checked></label>
              <label><input type="radio" name="color" class="danger"></label>
              <label><input type="radio" name="color" class="orange"></label>
              <label><input type="radio" name="color" class="yellow"></label>
              <label><input type="radio" name="color" class="lime"></label>
              <label><input type="radio" name="color" class="green"></label>
              <label><input type="radio" name="color" class="cyan"></label>
            </div>
          </div>


          <div class="radio-theme">
            <label class="theme">Tema do evento</label>
            <div class="select-theme grid">

              <div class="radio-inner">
                <input type="radio" name="tema" id="aniversario">
                <label for="aniversario">
                  <img src="assets/images/ThemeSelection-1.svg" alt="">
                  <span>Aniversário</span>
                </label>
              </div>
              <div class="radio-inner">
                <input type="radio" name="tema" id="infantil">
                <label for="infantil">
                  <img src="assets/images/ThemeSelection-2.svg" alt="">
                  <span>Infantil</span>
                </label>
              </div>
              <div class="radio-inner">
                <input type="radio" name="tema" id="formatura">
                <label for="formatura">
                  <img src="assets/images/ThemeSelection-3.svg" alt="">
                  <span>Formatura</span>
                </label>
              </div>

              <div class="radio-inner">
                <input type="radio" name="tema" id="casamento">
                <label for="casamento">
                  <img src="assets/images/ThemeSelection-4.svg" alt="">
                  <span>Casamento</span>
                </label>
              </div>

              <div class="radio-inner">
                <input type="radio" name="tema" id="cha-de-bebe">
                <label for="cha-de-bebe">
                  <img src="assets/images/ThemeSelection-5.svg" alt="">
                  <span>Chá de bebê</span>
                </label>
              </div>

              <div class="radio-inner">
                <input type="radio" name="tema" id="cha-de-panela">
                <label for="cha-de-panela">
                  <img src="assets/images/ThemeSelection-6.svg" alt="">
                  <span>Chá de panela</span>
                </label>
              </div>

              <div class="radio-inner">
                <input type="radio" name="tema" id="carnaval">
                <label for="carnaval">
                  <img src="assets/images/ThemeSelection-7.svg" alt="">
                  <span>Carnaval</span>
                </label>
              </div>

              <div class="radio-inner">
                <input type="radio" name="tema" id="pascoa">
                <label for="pascoa">
                  <img src="assets/images/ThemeSelection-8.svg" alt="">
                  <span>Páscoa</span>
                </label>
              </div>

              <div class="radio-inner">
                <input type="radio" name="tema" id="sao-joao">
                <label for="sao-joao">
                  <img src="assets/images/ThemeSelection-9.svg" alt="">
                  <span>São João</span>
                </label>
              </div>

              <div class="radio-inner">
                <input type="radio" name="tema" id="halloween">
                <label for="halloween">
                  <img src="assets/images/ThemeSelection-10.svg" alt="">
                  <span>Halloween</span>
                </label>
              </div>

              <div class="radio-inner">
                <input type="radio" name="tema" id="natal">
                <label for="natal">
                  <img src="assets/images/ThemeSelection-11.svg" alt="">
                  <span>Natal</span>
                </label>
              </div>

              <div class="radio-inner">
                <input type="radio" name="tema" id="outro">
                <label for="outro">
                  <img src="assets/images/ThemeSelection-12.svg" alt="">
                  <span>Outro</span>
                </label>
              </div>

            </div>
          </div>
          <div class="grid-cols-2">
            <div class="grid-2">
              <label for="toggle-switch">Estilo</label>
              <div></div>
              <label class="switch">
                <input type="checkbox" id="modo-claro">
                <span class="slider round"></span>
              </label>
              <label id="modo-label" for="modo-claro">Escuro</label>
            </div>

            <div class="col-b">
              <div class="titulo">
                <label for="picture">Foto de capa</label>
              </div>
              <div class="file-group">
                <input type="file" id="arquivo" hidden>
                <div class="button-file">
                  <img src="assets/icons/upload.svg" alt="">

                  <label for="arquivo" class="custom-file-label">Selecionar</label>

                </div>
                <span id="file-name">Nenhum arquivo selecionado</span>
              </div>
            </div>

          </div>
        </fieldset>

        <fieldset class="contact-details">
          <div class="flex">
            <img src="assets/icons/contact.svg" alt="">
            <h3>Dados para contato</h3>
          </div>
            <label for="name">Nome</label>
            <input type="text" id="name" name="name" placeholder="Nome do evento" required>
          <div class="input-pair">
            <div class="input-labels">
              <label for="email">E-mail</label>
              <label for="phone">Telefone</label>
            </div>
            <div class="input-fields">
              <input type="email" id="email" placeholder="exemplo@email.com">
              <input type="tel" id="phone" placeholder="(99) 99999-9999">
            </div>
          </div>


        </fieldset>
        <footer>
          <div class="checkbox-flex">
            <input type="checkbox" name="terms" id="terms">
            <label class="check" for="terms">Li e concordo com os <span class="termos">Termos e Condições</span> e com a
              <span class="politica">Política de Privacidade</span></label>
          </div>
          <div class="checkbox-flex">
            <input type="checkbox" name="receive-mail" id="receive-mail">
            <label class="check" for="receive-mail">Aceito receber atualizações e
              promoções por e-mail</label>
          </div>
          <div class="checkbox-flex">
            <input type="checkbox" name="sms" id="sms">
            <label class="check" for="sms">Aceito receber atualizações e promoções por SMS</label>
          </div>
          <div class="flex-end">
            <button class="enviar" type="submit"> <img src="assets/icons/ticket.svg" alt=""> <span>Gerar
                convite</span></button>
          </div>
        </footer>
      </form>
    </main>

  </div>
  <script>
    const inputArquivo = document.getElementById('arquivo');
    const nomeArquivo = document.getElementById('file-name');
    const form = document.querySelector('form');

    // === ERRO DE ARQUIVO (já existente) ===
    let erroArquivo = null;
    inputArquivo.addEventListener('change', () => {
      const arquivo = inputArquivo.files[0];
      const fileGroup = inputArquivo.closest('.file-group');

      const corPlaceholder = getComputedStyle(document.documentElement).getPropertyValue('--input-placeholder');
      const corTexto = getComputedStyle(document.documentElement).getPropertyValue('--text-heading');

      const permitidos = ['jpg', 'jpeg', 'pdf', 'svg', 'png'];

      if (arquivo) {
        const extensao = arquivo.name.split('.').pop().toLowerCase();

        if (permitidos.includes(extensao)) {
          nomeArquivo.textContent = arquivo.name;
          nomeArquivo.style.color = corTexto;
          if (erroArquivo) {
            erroArquivo.remove();
            erroArquivo = null;
          }
        } else {
          nomeArquivo.textContent = 'Nenhum arquivo selecionado';
          nomeArquivo.style.color = corPlaceholder;

          if (!erroArquivo) {
            erroArquivo = document.createElement('span');
            erroArquivo.classList.add('error-msg');
            erroArquivo.innerHTML = `<img src="assets/icons/circle-alert.svg" alt=""> Error message`;
            fileGroup.insertAdjacentElement('afterend', erroArquivo);
          }
        }
      } else {
        nomeArquivo.textContent = 'Nenhum arquivo selecionado';
        nomeArquivo.style.color = corPlaceholder;
        if (erroArquivo) {
          erroArquivo.remove();
          erroArquivo = null;
        }
      }
    });

    // === ERROS GERAIS EM INPUTS ===
    const mostrarErro = (campo) => {
      const wrapper = campo.closest('.full-width')
        || campo.closest('.input-fields')
        || campo.closest('.location-wrapper')
        || campo.closest('.desc-wrapper')
        || campo.closest('.input-pair')
        || campo.closest('div')
        || campo.parentElement;

      // Remover erro antigo
      const erroAntigo = wrapper.querySelector('.error-msg');
      if (erroAntigo) erroAntigo.remove();

      // Se inválido, mostrar mensagem
      if (!campo.checkValidity()) {
        campo.classList.add('invalid');

        const erro = document.createElement('div');
        erro.classList.add('error-msg');
        erro.innerHTML = `<img src="assets/icons/circle-alert.svg" alt=""> Error message`;
        wrapper.appendChild(erro);
      } else {
        campo.classList.remove('invalid');
      }
    };

    // Em tempo real
    const campos = form.querySelectorAll('input:required, textarea:required');
    campos.forEach(campo => {
      campo.addEventListener('input', () => mostrarErro(campo));
      campo.addEventListener('change', () => mostrarErro(campo));
    });

    // No envio do formulário
    form.addEventListener('submit', (e) => {
      let formValido = true;

      campos.forEach(campo => {
        mostrarErro(campo);
        if (!campo.checkValidity()) formValido = false;
      });

      if (!formValido) {
        e.preventDefault();
        const primeiroErro = form.querySelector('.invalid');
        if (primeiroErro) {
          primeiroErro.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
      }
    });
    const checkbox = document.getElementById('modo-claro');
    const labelModo = document.getElementById('modo-label');

    function atualizarTextoModo() {
      labelModo.textContent = checkbox.checked ? "Claro" : "Escuro";
    }

    checkbox.addEventListener('change', atualizarTextoModo);
    atualizarTextoModo(); // inicial
  </script>


</body>

</html>